<div class="signup-all">
  <div class="signup-container">
    <!-- Right: Form -->
    <div class="signup-form">
      <div class="notification" *ngIf="notifcation">
        {{ notifcation }}
      </div>
      <div class="icon-circle">
        <i class="fas fa-cube"></i>
      </div>
      <h1>Sign Up</h1>

      <form #signupForm="ngForm" (ngSubmit)="onSubmit(signupForm)">
        <!-- Name -->
        <div class="form-group">
          <label for="name">Name</label>
          <input
            id="name"
            name="name"
            type="text"
            [(ngModel)]="name"
            #nameRef="ngModel"
            required
            minlength="3"
            placeholder="Enter your name"
          />
          <div
            class="error"
            *ngIf="
              nameRef.invalid && (nameRef.dirty || nameRef.touched || submitted)
            "
          >
            <small *ngIf="nameRef.errors?.['required']"
              >Name is required.</small
            >
            <small *ngIf="nameRef.errors?.['minlength']"
              >Name must be at least 3 characters.</small
            >
          </div>
        </div>

        <!-- Email -->
        <div class="form-group">
          <label for="email">Email</label>
          <input
            id="email"
            name="email"
            type="email"
            [(ngModel)]="email"
            #emailRef="ngModel"
            required
            placeholder="Enter your email"
          />
          <div
            class="error"
            *ngIf="
              emailRef.invalid &&
              (emailRef.dirty || emailRef.touched || submitted)
            "
          >
            <small *ngIf="emailRef.errors?.['required']"
              >Email is required.</small
            >
            <small *ngIf="emailRef.errors?.['email']"
              >Enter a valid email.</small
            >
          </div>
        </div>

        <!-- Password -->
        <div class="form-group">
          <label for="password">Password</label>
          <input
            id="password"
            name="password"
            type="password"
            [(ngModel)]="password"
            #passwordRef="ngModel"
            required
            minlength="6"
            placeholder="Enter your password"
          />
          <div
            class="error"
            *ngIf="
              passwordRef.invalid &&
              (passwordRef.dirty || passwordRef.touched || submitted)
            "
          >
            <small *ngIf="passwordRef.errors?.['required']"
              >Password is required.</small
            >
            <small *ngIf="passwordRef.errors?.['minlength']"
              >Password must be at least 6 characters.</small
            >
          </div>
        </div>

        <!-- Confirm Password -->
        <div class="form-group">
          <label for="confirmPassword">Confirm Password</label>
          <input
            id="confirmPassword"
            name="confirmPassword"
            type="password"
            [(ngModel)]="confirmPassword"
            #confirmRef="ngModel"
            required
            placeholder="Confirm your password"
          />
          <div
            class="error"
            *ngIf="confirmRef.dirty || confirmRef.touched || submitted"
          >
            <small *ngIf="confirmRef.errors?.['required']"
              >Please confirm the password.</small
            >
            <small *ngIf="passwordMismatch()">Passwords do not match.</small>
          </div>
        </div>

        <button
          type="submit"
          [disabled]="loading || signupForm.invalid || passwordMismatch()"
        >
          <span *ngIf="!loading">SignUp</span>
          <span *ngIf="loading" class="spinner"></span>
        </button>

        <!-- Link to Login -->
        <p class="login-link">
          <a routerLink="/login">Already have an account? Login here</a>
        </p>
      </form>
    </div>
  </div>
</div>
